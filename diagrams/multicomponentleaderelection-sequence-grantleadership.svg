<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="879px" preserveAspectRatio="none" style="width:2080px;height:879px;background:#FFFFFF;" version="1.1" viewBox="0 0 2080 879" width="2080px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="365" x="853.5" y="27.9951">Flink Session Cluster Shutdown (Happy Path)</text><rect fill="#FFFFFF" height="114.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="477.5" y="149.7266"/><rect fill="#FFFFFF" height="57.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477.5" y="536.1875"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477.5" y="750.8516"/><rect fill="#FFFFFF" height="85.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="869" y="178.8594"/><rect fill="#FFFFFF" height="100.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="869" y="507.0547"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="869" y="721.7188"/><rect fill="#FFFFFF" height="442.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1212" y="250.125"/><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1599" y="377.5234"/><rect fill="#FFFFFF" height="143.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1863.5" y="477.9219"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1863.5" y="692.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="138" x2="138" y1="118.5938" y2="798.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="482" x2="482" y1="118.5938" y2="798.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="874" x2="874" y1="118.5938" y2="798.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1217" x2="1217" y1="118.5938" y2="798.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1604" x2="1604" y1="118.5938" y2="798.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1868" x2="1868" y1="118.5938" y2="798.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="20" y="115.292">External LeaderElection Process</text><ellipse cx="138.5" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M138.5,58.7969 L138.5,85.7969 M125.5,66.7969 L151.5,66.7969 M138.5,85.7969 L125.5,100.7969 M138.5,85.7969 L151.5,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="20" y="810.9795">External LeaderElection Process</text><ellipse cx="138.5" cy="822.7813" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M138.5,830.7813 L138.5,857.7813 M125.5,838.7813 L151.5,838.7813 M138.5,857.7813 L125.5,872.7813 M138.5,857.7813 L151.5,872.7813 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="391" x="287" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="377" x="294" y="107.292">MultipleComponentLeaderElectionDriver (ZK or k8s)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="391" x="287" y="797.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="377" x="294" y="817.9795">MultipleComponentLeaderElectionDriver (ZK or k8s)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="372" x="688" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="358" x="695" y="107.292">DefaultMultipleComponentLeaderElectionService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="372" x="688" y="797.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="358" x="695" y="817.9795">DefaultMultipleComponentLeaderElectionService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="228" x="1103" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="1110" y="107.292">DefaultLeaderElectionService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="228" x="1103" y="797.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="1110" y="817.9795">DefaultLeaderElectionService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="1534" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1541" y="107.292">LeaderContender</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="1534" y="797.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1541" y="817.9795">LeaderContender</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="369" x="1684" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="355" x="1691" y="107.292">MultipleComponentLeaderElectionAdapterDriver</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="369" x="1684" y="797.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="355" x="1691" y="817.9795">MultipleComponentLeaderElectionAdapterDriver</text><rect fill="#FFFFFF" height="114.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="477.5" y="149.7266"/><rect fill="#FFFFFF" height="57.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477.5" y="536.1875"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477.5" y="750.8516"/><rect fill="#FFFFFF" height="85.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="869" y="178.8594"/><rect fill="#FFFFFF" height="100.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="869" y="507.0547"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="869" y="721.7188"/><rect fill="#FFFFFF" height="442.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1212" y="250.125"/><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1599" y="377.5234"/><rect fill="#FFFFFF" height="143.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1863.5" y="477.9219"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1863.5" y="692.5859"/><polygon fill="#181818" points="465.5,145.7266,475.5,149.7266,465.5,153.7266,469.5,149.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="138.5" x2="471.5" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="145.5" y="144.6606">isLeader</text><polygon fill="#181818" points="857,174.8594,867,178.8594,857,182.8594,861,178.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="487.5" x2="863" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="494.5" y="173.7935">isLeader</text><line style="stroke:#181818;stroke-width:1.0;" x1="879" x2="921" y1="207.9922" y2="207.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="921" x2="921" y1="207.9922" y2="220.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="921" y1="220.9922" y2="220.9922"/><polygon fill="#181818" points="890,216.9922,880,220.9922,890,224.9922,886,220.9922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="886" y="202.9263">save new session ID</text><polygon fill="#181818" points="1200,246.125,1210,250.125,1200,254.125,1204,250.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="879" x2="1206" y1="250.125" y2="250.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="886" y="245.0591">onGrantLeadership for each component involved</text><polygon fill="#181818" points="493.5,260.125,483.5,264.125,493.5,268.125,489.5,264.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="487.5" x2="873" y1="264.125" y2="264.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="1222" x2="1264" y1="293.2578" y2="293.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="1264" x2="1264" y1="293.2578" y2="306.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="1223" x2="1264" y1="306.2578" y2="306.2578"/><polygon fill="#181818" points="1233,302.2578,1223,306.2578,1233,310.2578,1229,306.2578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="1229" y="288.1919">save new session ID in issuedLeaderSessionID</text><line style="stroke:#181818;stroke-width:1.0;" x1="1222" x2="1264" y1="335.3906" y2="335.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="1264" x2="1264" y1="335.3906" y2="348.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="1223" x2="1264" y1="348.3906" y2="348.3906"/><polygon fill="#181818" points="1233,344.3906,1223,348.3906,1233,352.3906,1229,348.3906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="1229" y="330.3247">clear confirmed leadership</text><polygon fill="#181818" points="1587,373.5234,1597,377.5234,1587,381.5234,1591,377.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1222" x2="1593" y1="377.5234" y2="377.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="1229" y="372.4575">grantLeadership(newSessionId)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1609" x2="1651" y1="406.6563" y2="406.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1651" x2="1651" y1="406.6563" y2="419.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1610" x2="1651" y1="419.6563" y2="419.6563"/><polygon fill="#181818" points="1620,415.6563,1610,419.6563,1620,423.6563,1616,419.6563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1616" y="401.5903">prepare leadership</text><polygon fill="#181818" points="1233,444.7891,1223,448.7891,1233,452.7891,1229,448.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1227" x2="1603" y1="448.7891" y2="448.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280" x="1239" y="443.7231">confirmLeadership((newSessionId, address)</text><polygon fill="#181818" points="1851.5,473.9219,1861.5,477.9219,1851.5,481.9219,1855.5,477.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1222" x2="1857.5" y1="477.9219" y2="477.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="1229" y="472.856">hasLeadership check</text><polygon fill="#181818" points="890,503.0547,880,507.0547,890,511.0547,886,507.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="884" x2="1862.5" y1="507.0547" y2="507.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="896" y="501.9888">hasLeadership check for componentId</text><polygon fill="#181818" points="498.5,532.1875,488.5,536.1875,498.5,540.1875,494.5,536.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="868" y1="536.1875" y2="536.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="504.5" y="531.1216">hasLeadership</text><polygon fill="#181818" points="149.5,561.3203,139.5,565.3203,149.5,569.3203,145.5,565.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="143.5" x2="476.5" y1="565.3203" y2="565.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="155.5" y="560.2544">hasLeadership</text><polygon fill="#181818" points="465.5,575.3203,475.5,579.3203,465.5,583.3203,469.5,579.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138.5" x2="471.5" y1="579.3203" y2="579.3203"/><polygon fill="#181818" points="857,589.3203,867,593.3203,857,597.3203,861,593.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="482.5" x2="863" y1="593.3203" y2="593.3203"/><polygon fill="#181818" points="1851.5,603.3203,1861.5,607.3203,1851.5,611.3203,1855.5,607.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="874" x2="1857.5" y1="607.3203" y2="607.3203"/><polygon fill="#181818" points="1233,617.3203,1223,621.3203,1233,625.3203,1229,621.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1227" x2="1867.5" y1="621.3203" y2="621.3203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1222" x2="1264" y1="650.4531" y2="650.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="1264" x2="1264" y1="650.4531" y2="663.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="1223" x2="1264" y1="663.4531" y2="663.4531"/><polygon fill="#181818" points="1233,659.4531,1223,663.4531,1233,667.4531,1229,663.4531" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363" x="1229" y="645.3872">verifies issuedLeaderSessionID with confirmed sessionID</text><polygon fill="#181818" points="1851.5,688.5859,1861.5,692.5859,1851.5,696.5859,1855.5,692.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1217" x2="1857.5" y1="692.5859" y2="692.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1224" y="687.52">writeLeaderInformation</text><polygon fill="#181818" points="890,717.7188,880,721.7188,890,725.7188,886,721.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="884" x2="1867.5" y1="721.7188" y2="721.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="896" y="716.6528">publishLeaderInformation</text><polygon fill="#181818" points="498.5,746.8516,488.5,750.8516,498.5,754.8516,494.5,750.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="873" y1="750.8516" y2="750.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="504.5" y="745.7856">publishLeaderInformation</text><polygon fill="#181818" points="149.5,775.9844,139.5,779.9844,149.5,783.9844,145.5,779.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="143.5" x2="481.5" y1="779.9844" y2="779.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="155.5" y="774.9185">write information out if leadership is still acquired</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="0" x2="2073" y1="787.9844" y2="787.9844"/><!--SRC=[hLPDRzim3BtxLn0v9S1s7tOOCDXP5ym52lYscshJjH15zYJPMV_zwCzObkmqm7fgbSV7H_AHgU568FmGN9uXGQrvAI4KjJQe82bgavLN2VkVhAhUuOMPuX04B3MbWjtnBs4a4n0Zor0T1QQcZNvHPKf4Es0QuZW8AgOCJtd5f87TSoqChmI6vQKg9KfZ1qUADvHu__iNK8hp5tteQ9x3-1XPH17cZAZkq2Me6fxYI97uA5OZblWU69RIeAHVEaXe8Uwe-PwnYbesrDXbY88WZk7pjxv2-0fSzp5jatd330wr0_tqc06SpC7jfrP0qZsDGSayIBC6GU8Lz33jK-I2UsWfdnGRgz05ho2dgI1B2qZ74e7BfXGDPhO8ZuInokuzmuNUnSDDawN88vu4K2DqZLclSp3nQOKX5SWKoPSvLnVCG4p5EVYGu6zs0_QKUqoG7QQ8MzdXzDOnXHDHfP2iWhvyCsGliHStosgb_GGionJzTSi_QzvCmLHtQwo2wTaSqmBJiqV-hEyzW-Kt3qVdYCaCfymANx6arvgEHWU-ueybOwUObkeUNLTVlB3b2k7O0mUpwbhN-yjFdGrm6jyRmZlajVsWmy9pZjg_4N3bffXvNw-lIZkEg-86UugJf3bVM7l50aTB4goQQ66WgduLN1SVu8m-VDEY1tXlD2jZimtKDO3koyG7PKq7BvyjCJKQjE524EEVcglX3Zg-S1u2MkcAlU7o2q2MXkVlGmRQCIO9i_LbC9vgf_YmYzqxxmTNZ3DC-sHsYqvb-wwcrHvg1ciO5-nLODzcOVnHLhVypdC2bvDu-7vjscHZnJOMzJ4hRkxznYNvNxPSFLdq7qrWx_G_]--></g></svg>